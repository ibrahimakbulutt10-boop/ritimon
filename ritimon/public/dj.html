<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DJ Paneli - RitimON FM</title>
  <link rel="stylesheet" href="dj.css" />
  <link rel="icon" href="favicon.ico" />
</head>
<body>
  <div class="dj-container">
    <!-- Header -->
    <div class="dj-header">
      <h1>ğŸ™ï¸ RitimON FM DJ Paneli</h1>
      <div class="status-indicator">
        <span id="connectionStatus">BaÄŸlantÄ± durumu: Bekleniyor</span>
      </div>
    </div>

    <!-- Login Panel -->
    <div id="loginPanel" class="login-panel">
      <div class="glass-card">
        <h2>ğŸ” DJ GiriÅŸi</h2>
        <div class="form-group">
          <label for="djNickname">DJ AdÄ±nÄ±z:</label>
          <input type="text" id="djNickname" placeholder="DJ adÄ±nÄ±zÄ± girin" />
        </div>
        <div class="form-group">
          <label for="djpass">Åifre:</label>
          <input type="password" id="djpass" placeholder="DJ ÅŸifresi" />
        </div>
        <button onclick="checkPassword()" class="btn btn-primary">GiriÅŸ Yap</button>
        <div id="loginError" class="error-message"></div>
      </div>
    </div>

    <!-- DJ Controls -->
    <div id="djControls" class="dj-controls" style="display:none;">
      <div class="controls-grid">
        <!-- Stream Controls -->
        <div class="control-card">
          <h3>ğŸ“¡ YayÄ±n KontrolÃ¼</h3>
          <div class="control-buttons">
            <button onclick="startStream()" class="btn btn-success" id="startBtn">
              â–¶ï¸ YayÄ±nÄ± BaÅŸlat
            </button>
            <button onclick="stopStream()" class="btn btn-danger" id="stopBtn" disabled>
              â¹ï¸ YayÄ±nÄ± Durdur
            </button>
          </div>
          <div class="stream-status">
            <span id="streamStatus">YayÄ±n kapalÄ±</span>
          </div>
        </div>

        <!-- Music Controls -->
        <div class="control-card">
          <h3>ğŸµ MÃ¼zik KontrolÃ¼</h3>
          <div class="music-controls">
            <div class="form-group">
              <label for="songName">ÅarkÄ± AdÄ±:</label>
              <input type="text" id="songName" placeholder="Åu anda Ã§alan ÅŸarkÄ±" />
            </div>
            <div class="form-group">
              <label for="artistName">SanatÃ§Ä±:</label>
              <input type="text" id="artistName" placeholder="SanatÃ§Ä± adÄ±" />
            </div>
            <button onclick="updateNowPlaying()" class="btn btn-info">
              ğŸ¶ ÅarkÄ± Bilgisini GÃ¼ncelle
            </button>
          </div>
        </div>

        <!-- Announcements -->
        <div class="control-card">
          <h3>ğŸ“¢ Duyurular</h3>
          <div class="announcement-controls">
            <div class="form-group">
              <label for="announcementText">Duyuru Metni:</label>
              <textarea id="announcementText" placeholder="Duyuru yazÄ±sÄ±nÄ± buraya girin..." rows="3"></textarea>
            </div>
            <button onclick="sendAnnouncement()" class="btn btn-warning">
              ğŸ“¢ Duyuru GÃ¶nder
            </button>
          </div>
        </div>

        <!-- Sound Effects -->
        <div class="control-card">
          <h3>ğŸ”Š Ses Efektleri</h3>
          <div class="sound-effects">
            <div class="effect-buttons">
              <button onclick="playSoundEffect('applause')" class="btn btn-effect">
                ğŸ‘ AlkÄ±ÅŸ
              </button>
              <button onclick="playSoundEffect('cheer')" class="btn btn-effect">
                ğŸ‰ Kutlama
              </button>
              <button onclick="playSoundEffect('drumroll')" class="btn btn-effect">
                ğŸ¥ Davul
              </button>
              <button onclick="playSoundEffect('bell')" class="btn btn-effect">
                ğŸ”” Zil
              </button>
              <button onclick="playSoundEffect('whistle')" class="btn btn-effect">
                ğŸ“¯ DÃ¼dÃ¼k
              </button>
              <button onclick="playSoundEffect('airhorn')" class="btn btn-effect">
                ğŸ“¢ Hava Korna
              </button>
            </div>
            <div class="custom-sound">
              <div class="form-group">
                <label for="customSoundText">Ã–zel Ses Efekti:</label>
                <input type="text" id="customSoundText" placeholder="Ses efekti aÃ§Ä±klamasÄ±..." />
              </div>
              <button onclick="playCustomEffect()" class="btn btn-secondary">
                ğŸ”Š Ã–zel Efekt
              </button>
            </div>
          </div>
        </div>

        <!-- Music Upload -->
        <div class="control-card">
          <h3>ğŸµ GeÃ§ici MÃ¼zik YÃ¼kleme</h3>
          <div class="temp-warning">
            <span class="warning-icon">âš ï¸</span>
            <span>YÃ¼klenen dosyalar geÃ§icidir ve Ã§alÄ±ndÄ±ktan sonra otomatik silinir!</span>
          </div>
          <div class="upload-section">
            <div class="upload-area" id="uploadArea">
              <div class="upload-content">
                <div class="upload-icon">ğŸµ</div>
                <h4>Ses DosyasÄ± YÃ¼kle</h4>
                <p>MP3, WAV, OGG dosyalarÄ±nÄ± sÃ¼rÃ¼kleyip bÄ±rakÄ±n</p>
                <p class="temp-info">ğŸ“ GeÃ§ici dosya - Ã§alÄ±ndÄ±ktan sonra silinir</p>
                <input type="file" id="musicFileInput" accept="audio/*" multiple style="display: none;" />
                <button onclick="document.getElementById('musicFileInput').click()" class="btn btn-primary">
                  ğŸ“ Dosya SeÃ§
                </button>
              </div>
            </div>
            <div class="upload-progress" id="uploadProgress" style="display: none;">
              <div class="progress-bar">
                <div class="progress-fill" id="uploadProgressFill"></div>
              </div>
              <span id="uploadStatus">YÃ¼kleniyor...</span>
            </div>
          </div>
        </div>

        <!-- Playlist Management -->
        <div class="control-card">
          <h3>ğŸ“‹ Playlist YÃ¶netimi</h3>
          <div class="playlist-controls">
            <div class="form-group">
              <label for="songTitle">ÅarkÄ± AdÄ±:</label>
              <input type="text" id="songTitle" placeholder="ÅarkÄ± adÄ±nÄ± girin" />
            </div>
            <div class="form-group">
              <label for="artistName">SanatÃ§Ä±:</label>
              <input type="text" id="artistName" placeholder="SanatÃ§Ä± adÄ±nÄ± girin" />
            </div>
            <div class="playlist-actions">
              <button onclick="addToPlaylist()" class="btn btn-success">
                â• Manuel Ekle
              </button>
              <button onclick="addUploadedToPlaylist()" class="btn btn-info">
                ğŸµ YÃ¼klenen Ekle
              </button>
              <button onclick="clearPlaylist()" class="btn btn-warning">
                ğŸ—‘ï¸ Temizle
              </button>
            </div>
          </div>
          <div class="playlist-display">
            <h4>ğŸ“ Gelecek ÅarkÄ±lar</h4>
            <div id="playlistItems" class="playlist-items">
              <!-- Playlist items will appear here -->
            </div>
          </div>
        </div>

        <!-- Music Library -->
        <div class="control-card">
          <h3>ğŸ“š MÃ¼zik KÃ¼tÃ¼phanesi</h3>
          <div class="music-library">
            <div class="library-controls">
              <input type="text" id="searchLibrary" placeholder="MÃ¼zik ara..." />
              <button onclick="refreshLibrary()" class="btn btn-secondary">
                ğŸ”„ Yenile
              </button>
            </div>
            <div id="musicLibrary" class="library-items">
              <!-- Music library items will appear here -->
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="control-card">
          <h3>âš¡ HÄ±zlÄ± Ä°ÅŸlemler</h3>
          <div class="quick-actions">
            <button onclick="requestSong()" class="btn btn-secondary">
              ğŸ¤ ÅarkÄ± Ä°steÄŸi
            </button>
            <button onclick="showStats()" class="btn btn-secondary">
              ğŸ“Š Ä°statistikler
            </button>
            <button onclick="playNextSong()" class="btn btn-info">
              â­ï¸ Sonraki ÅarkÄ±
            </button>
            <button onclick="emergencyStop()" class="btn btn-danger">
              ğŸš¨ Acil Durdur
            </button>
          </div>
        </div>
      </div>

      <!-- Live Chat Feed -->
      <div class="chat-feed">
        <div class="chat-header">
          <h3>ğŸ’¬ CanlÄ± Chat</h3>
          <div class="chat-controls">
            <button onclick="toggleAutoScroll()" class="btn btn-secondary" id="autoScrollBtn">
              ğŸ“Œ Otomatik KaydÄ±r
            </button>
            <button onclick="clearChat()" class="btn btn-warning">
              ğŸ—‘ï¸ Chat Temizle
            </button>
          </div>
        </div>
        <div id="liveChat" class="chat-messages">
          <!-- Live chat messages will appear here -->
        </div>
        <div class="chat-input-section">
          <div class="input-group">
            <input type="text" id="djChatInput" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..." maxlength="200" />
            <button onclick="sendDJMessage()" class="btn btn-primary">
              ğŸ“¤ GÃ¶nder
            </button>
          </div>
          <div class="quick-responses">
            <button onclick="sendQuickResponse('Merhaba dinleyiciler! ğŸ§')" class="quick-btn">ğŸ‘‹ Selam</button>
            <button onclick="sendQuickResponse('TeÅŸekkÃ¼rler dinlediÄŸiniz iÃ§in! â¤ï¸')" class="quick-btn">â¤ï¸ TeÅŸekkÃ¼r</button>
            <button onclick="sendQuickResponse('ÅarkÄ± isteklerinizi bekliyorum! ğŸµ')" class="quick-btn">ğŸµ Ä°stek</button>
            <button onclick="sendQuickResponse('GÃ¼zel bir akÅŸam geÃ§iriyoruz! ğŸŒŸ')" class="quick-btn">ğŸŒŸ AkÅŸam</button>
          </div>
        </div>
      </div>

      <!-- DJ Info -->
      <div class="dj-info">
        <div class="info-item">
          <span class="label">DJ:</span>
          <span id="currentDJName">-</span>
        </div>
        <div class="info-item">
          <span class="label">BaÅŸlangÄ±Ã§:</span>
          <span id="djStartTime">-</span>
        </div>
        <div class="info-item">
          <span class="label">Ã‡evrimiÃ§i:</span>
          <span id="onlineUsers">0</span> kullanÄ±cÄ±
        </div>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="dj-stream.js"></script>
</body>
</html>

